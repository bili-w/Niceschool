<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>学生成绩</title>
    <script type="text/javascript" th:src="@{/static/layui/layui.js}"></script>
    <link rel="stylesheet" type="text/css" th:href="@{/static/layui/css/layui.css}"/>
</head>
<body>
    <div class="layui-form">
        <div class="layui-inline" style="margin-top: 10px;margin-left: 30px">
            <div class="layui-input-inline">
                <select th:name="stime" th:id="stime" lay-search="" lay-verify="stime" lay-filter="stime">
                    <option value="1">大一上学期</option>
                    <option value="2">大一下学期</option>
                    <option value="3">大二上学期</option>
                    <option value="4">大二下学期</option>
                    <option value="5">大三上学期</option>
                    <option value="6">大三下学期</option>
                </select>
            </div>
        </div>
        <button class="layui-btn" type="button" id="selBtn" style="margin-top: 10px"  lay-event="examine">开始搜索</button>
    </div>
    <div class="layui-form">
        <input type="hidden" th:name="stuid" th:value="${stuid}" th:id="stuid">
        <input type="hidden" th:name="time" th:value="${stime}" th:id="time">
        <table class="layui-table">
            <thead>
            <tr>
                <th>课程</th>
                <th>学分</th>
                <th>类别</th>
                <th>修读性质</th>
                <th>平时成绩</th>
                <th>考试成绩</th>
                <th>综合成绩</th>
            </tr>
            </thead>
            <tbody th:if="${selGrade.size()>0}">
            <tr th:each="g:${selGrade}">
                <td th:text="${g.cname}"></td>
                <td th:text="${g.ccredit}"></td>
                <td th:text="${g.type}"></td>
                <td th:if="${g.studynature == 0}">初修</td>
                <td th:if="${g.studynature == 1}">重修</td>
                <td th:text="${g.normalexam}"></td>
                <td th:text="${g.testexam}"></td>
                <td th:text="${g.sumexam}"></td>
            </tr>
            </tbody>
            <tbody th:if="${selGrade.size()<=0}">
                <tr>
                    <td colspan="7">暂无数据</td>
                </tr>
            </tbody>
        </table>
    </div>
<script>
    layui.use(['laydate', 'laypage', 'layer', 'table', 'carousel', 'upload', 'element', 'slider', 'jquery', 'form'], function() {
        var laydate = layui.laydate ,//日期
            laypage = layui.laypage, //分页
            layer = layui.layer, //弹层
            table = layui.table, //表格
            carousel = layui.carousel, //轮播
            upload = layui.upload, //上传
            element = layui.element, //元素操作
            slider = layui.slider,//滑块
            form = layui.form;



        var $ = layui.$;
        $('#selBtn').on('click', function(){
            var stuid = $("#stuid").val();
            var stime = $("#stime").val();
            location.href="selExam?stuid="+stuid+"&stime="+stime;
        });

        var time= $("#time").val();
        $("#stime").find("option[value="+time+"]").prop("selected",true);
        form.render();
    });
</script>
</body>
</html>